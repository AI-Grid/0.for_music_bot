2025-06-28 18:45:58,841 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:46:01,113 - INFO - Page loaded for login check.
2025-06-28 18:46:06,143 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:46:06,293 - INFO - Sign-in button found. Attempting login process...
2025-06-28 18:46:14,253 - INFO - Clicked button with selector 'button:has(span:has-text("Sign in"))'
2025-06-28 18:46:17,719 - INFO - Clicked button with selector 'button:has(img[alt="Sign in with Microsoft"])'
2025-06-28 18:46:20,815 - INFO - Filled input field for selector 'input[type="email"]'
2025-06-28 18:46:20,848 - INFO - Entered Microsoft email and submitted.
2025-06-28 18:46:25,079 - INFO - Clicked button with selector 'button:has-text("Send code")'
2025-06-28 18:46:25,080 - INFO - Sending authentication code to email...
2025-06-28 18:47:28,190 - INFO - New browser tab opened for Gmail.
2025-06-28 18:47:32,310 - INFO - Page loaded for mail.google.com.
2025-06-28 18:47:32,310 - INFO - Searching for the Microsoft verification email...
2025-06-28 18:47:34,054 - ERROR - Could not find the verification code in the email preview.
2025-06-28 18:50:20,016 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:50:21,995 - INFO - Page loaded for login check.
2025-06-28 18:50:27,012 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:50:27,094 - INFO - Sign-in button found. Attempting login process...
2025-06-28 18:50:30,978 - INFO - Clicked button with selector 'button:has(span:has-text("Sign in"))'
2025-06-28 18:50:34,974 - INFO - Clicked button with selector 'button:has(img[alt="Sign in with Microsoft"])'
2025-06-28 18:50:37,948 - INFO - Filled input field for selector 'input[type="email"]'
2025-06-28 18:50:37,996 - INFO - Entered Microsoft email and submitted.
2025-06-28 18:50:42,955 - INFO - Clicked button with selector 'button:has-text("Send code")'
2025-06-28 18:50:42,955 - INFO - Sending authentication code to email...
2025-06-28 18:51:45,975 - INFO - New browser tab opened for Gmail.
2025-06-28 18:51:50,064 - INFO - Page loaded for mail.google.com.
2025-06-28 18:51:50,064 - INFO - Searching for the Microsoft verification email...
2025-06-28 18:51:51,763 - ERROR - Could not find the verification code in the email preview.
2025-06-28 18:52:17,853 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:52:19,732 - INFO - Page loaded for login check.
2025-06-28 18:52:24,741 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:52:26,349 - INFO - Sign-in button found. Attempting login process...
2025-06-28 18:52:32,413 - INFO - Clicked button with selector 'button:has(span:has-text("Sign in"))'
2025-06-28 18:52:35,689 - INFO - Clicked button with selector 'button:has(img[alt="Sign in with Microsoft"])'
2025-06-28 18:52:38,458 - INFO - Filled input field for selector 'input[type="email"]'
2025-06-28 18:52:38,494 - INFO - Entered Microsoft email and submitted.
2025-06-28 18:52:43,591 - INFO - Clicked button with selector 'button:has-text("Send code")'
2025-06-28 18:52:43,592 - INFO - Sending authentication code to email...
2025-06-28 18:53:46,624 - INFO - New browser tab opened for Gmail.
2025-06-28 18:53:50,623 - INFO - Page loaded for mail.google.com.
2025-06-28 18:53:50,624 - INFO - Searching for the Microsoft verification email...
2025-06-28 18:53:52,323 - INFO - Successfully extracted verification code: 806065
2025-06-28 18:53:52,336 - INFO - Gmail tab closed after use.
2025-06-28 18:53:52,889 - INFO - Verification code entered. Waiting for login confirmation...
2025-06-28 18:53:57,476 - INFO - Clicked button with selector 'button:has-text("yes")'
2025-06-28 18:54:22,818 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:54:25,116 - INFO - Page loaded for login check.
2025-06-28 18:54:30,137 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:54:30,212 - INFO - Sign-in button found. Attempting login process...
2025-06-28 18:54:38,624 - INFO - Clicked button with selector 'button:has(span:has-text("Sign in"))'
2025-06-28 18:54:42,085 - ERROR - Error waiting for selector 'input[type="email"]': Page.wait_for_selector: Target page, context or browser has been closed
2025-06-28 18:54:42,620 - ERROR - An error occurred in suno_login_microsoft: Keyboard.press: Target page, context or browser has been closed
2025-06-28 18:54:42,620 - ERROR - Unexpected error during Suno Microsoft login.
2025-06-28 18:54:42,622 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 209, in suno_login_microsoft
    await page.keyboard.press("Enter")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 1439, in press
    return mapping.from_maybe_impl(await self._impl_obj.press(key=key, delay=delay))
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_input.py", line 38, in press
    await self._channel.send("keyboardPress", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TargetClosedError: Keyboard.press: Target page, context or browser has been closed

2025-06-28 18:57:11,300 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:57:13,344 - INFO - Page loaded for login check.
2025-06-28 18:57:18,352 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:57:22,283 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Target page, context or browser has been closed
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 18:57:22,284 - INFO - Sign-in button not visible. Assuming already signed in.
2025-06-28 18:59:36,716 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 18:59:38,586 - INFO - Page loaded for login check.
2025-06-28 18:59:43,603 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 18:59:44,003 - INFO - Sign-in button found. Attempting login process...
2025-06-28 18:59:49,291 - INFO - Clicked button with selector 'button:has(span:has-text("Sign in"))'
2025-06-28 18:59:52,528 - INFO - Clicked button with selector 'button:has(img[alt="Sign in with Microsoft"])'
2025-06-28 18:59:55,248 - INFO - Filled input field for selector 'input[type="email"]'
2025-06-28 18:59:55,272 - INFO - Entered Microsoft email and submitted.
2025-06-28 19:00:05,282 - ERROR - Error waiting for selector 'button:has-text("Send code")': Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("button:has-text(\"Send code\")") to be visible
    - waiting for" https://login.live.com/oauth20_authorize.srf?client_id=97267293-8481-4506-960a-9e6ae4c53099&scope=email+profile+offline_access+User.Read+openid&redirect_uri=https%3a%2f%2fclerk.suno.com%2fv1%2foauth_…" navigation to finish...
    - navigated to "https://suno.com/create?signup_source=splashpage&redirected_from=signin"

2025-06-28 19:00:05,288 - ERROR - Failed to send verification code.
2025-06-28 19:00:19,840 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:00:21,021 - INFO - Page loaded for login check.
2025-06-28 19:00:26,033 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 19:00:36,044 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 19:00:36,044 - INFO - Sign-in button not visible. Assuming already signed in.
2025-06-28 19:01:14,427 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:01:15,654 - INFO - Page loaded for login check.
2025-06-28 19:01:20,661 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 19:01:29,034 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Target page, context or browser has been closed
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 19:01:29,034 - INFO - Sign-in button not visible. Assuming already signed in.
2025-06-28 19:04:12,426 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:04:14,009 - INFO - Page loaded for login check.
2025-06-28 19:04:19,020 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 19:04:29,037 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 19:04:59,464 - ERROR - An error occurred in suno_login_microsoft: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"

2025-06-28 19:04:59,464 - ERROR - Network issue detected during Suno Microsoft login.
2025-06-28 19:04:59,468 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 277, in suno_login_microsoft
    await page.goto("https://suno.com/create", wait_until="networkidle")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 8991, in goto
    await self._impl_obj.goto(
        url=url, timeout=timeout, waitUntil=wait_until, referer=referer
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_page.py", line 552, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 145, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"


2025-06-28 19:05:52,284 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:05:53,743 - INFO - Page loaded for login check.
2025-06-28 19:05:58,749 - INFO - No logged-in state detected: Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("button[aria-label=\"Profile\"]") to be visible

2025-06-28 19:06:08,754 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 19:06:39,246 - ERROR - An error occurred in suno_login_microsoft: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"

2025-06-28 19:06:39,246 - ERROR - Network issue detected during Suno Microsoft login.
2025-06-28 19:06:39,250 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 277, in suno_login_microsoft
    await page.goto("https://suno.com/create", wait_until="networkidle")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 8991, in goto
    await self._impl_obj.goto(
        url=url, timeout=timeout, waitUntil=wait_until, referer=referer
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_page.py", line 552, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 145, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"


2025-06-28 19:33:44,756 - INFO - Navigating to Suno to check login status...
2025-06-28 19:33:53,502 - INFO - No logged-in state detected with selector 'button[aria-label="Profile"]'.
2025-06-28 19:34:03,512 - ERROR - Error waiting for selector 'button:has(span:has-text("Sign in"))': Page.wait_for_selector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator("button:has(span:has-text(\"Sign in\"))") to be visible

2025-06-28 19:34:03,513 - WARNING - Could not find 'Sign in' button. Assuming a logged-in state and checking /create page directly.
2025-06-28 19:34:33,517 - ERROR - An error occurred during the main login flow: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"

2025-06-28 19:34:33,518 - INFO - Executing fallback: checking /create page directly to confirm session.
2025-06-28 19:35:03,531 - ERROR - The fallback check itself raised an error: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"

2025-06-28 19:35:03,561 - ERROR - Traceback (most recent call last):
  File "C:\projects\suno-automation\backend\lib\login.py", line 303, in suno_login_microsoft
    await page.goto("https://suno.com/create", wait_until="networkidle")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 8991, in goto
    await self._impl_obj.goto(
        url=url, timeout=timeout, waitUntil=wait_until, referer=referer
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_page.py", line 552, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 145, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"


2025-06-28 19:41:31,369 - ERROR - An error occurred in suno_login_microsoft: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Call log:
  - <launching> C:\Users\takan\AppData\Local\camoufox\camoufox\Cache\camoufox.exe -no-remote -wait-for-browser -foreground -profile C:\projects\suno-automation\user-data-dir -juggler-pipe about:blank
  - <launched> pid=27800
  - [pid=27800][err] DEBUG: Juggler pipe initialized
  - [pid=27800][err] DEBUG: Dispatcher created
  - [pid=27800][err] DEBUG: BrowserHandler created
  - [pid=27800][err] DEBUG: BrowserHandler set as root session handler
  - [pid=27800][out]
  - [pid=27800][out] Juggler listening to the pipe
  - [pid=27800][out] console.error: "Warning: unrecognized command line flag" "-foreground"
  - [pid=27800][out] console.error: SearchService: "#init: failure initializing search:" (new TypeError("defaultsConfig is undefined", "resource://gre/modules/SearchEngineSelector.sys.mjs", 752))
  5 × [pid=27800][err] JavaScript error: resource://gre/modules/SearchEngineSelector.sys.mjs, line 752: TypeError: defaultsConfig is undefined
  - [pid=27800][err] JavaScript error: resource://gre/modules/SearchService.sys.mjs, line 1290: Error: SearchService failed while it was initializing.
  - [pid=27800][err] JavaScript error: resource://activity-stream/lib/TopSitesFeed.sys.mjs, line 144: NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS: [JavaScript Error: "SearchService failed while it was initializing." {file: "resource://gre/modules/SearchService.sys.mjs" line: 1290}]'[JavaScript Error: "SearchService failed while it was initializing." {file: "resource://gre/modules/SearchService.sys.mjs" line: 1290}]' when calling method: [nsISearchService::defaultEngine]
  - [pid=27800][out] console.error: "Could not parse ASRouter preference. Try resetting browser.newtabpage.activity-stream.asrouter.providers.snippets in about:config."
  - [pid=27800][out] console.error: SearchSettings: "_write: Could not write to settings file:" (new Error("cannot write without any engine.", "resource://gre/modules/SearchSettings.sys.mjs", 280))
  - [pid=27800][err] JavaScript error: chrome://juggler/content/Helper.js, line 82: NS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIWebProgress.removeProgressListener]
  - [pid=27800][out] console.error: WebExtensions:
  - [pid=27800][out]   Message: TypeError: defaultsConfig is undefined
  - [pid=27800][out]   Stack:
  - [pid=27800][out]     #defaultEngines@resource://gre/modules/SearchEngineSelector.sys.mjs:752:22
  - [pid=27800][out] fetchEngineConfiguration@resource://gre/modules/SearchEngineSelector.sys.mjs:375:65
  - [pid=27800][out]
  - [pid=27800][err] DEBUG: Installed 1 addon(s)

2025-06-28 19:41:31,370 - ERROR - Unexpected error during Suno Microsoft login.
2025-06-28 19:41:31,374 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 179, in suno_login_microsoft
    async with AsyncCamoufox(
               ~~~~~~~~~~~~~^
        headless=False,
        ^^^^^^^^^^^^^^^
    ...<5 lines>...
        i_know_what_im_doing=True,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as browser:
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\camoufox\async_api.py", line 31, in __aenter__
    self.browser = await AsyncNewBrowser(_playwright, **self.launch_options)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\camoufox\async_api.py", line 95, in AsyncNewBrowser
    context = await playwright.firefox.launch_persistent_context(**from_options)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 14737, in launch_persistent_context
    await self._impl_obj.launch_persistent_context(
    ...<51 lines>...
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_browser_type.py", line 162, in launch_persistent_context
    from_channel(await self._channel.send("launchPersistentContext", params)),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TargetClosedError: BrowserType.launch_persistent_context: Target page, context or browser has been closed
Call log:
  - <launching> C:\Users\takan\AppData\Local\camoufox\camoufox\Cache\camoufox.exe -no-remote -wait-for-browser -foreground -profile C:\projects\suno-automation\user-data-dir -juggler-pipe about:blank
  - <launched> pid=27800
  - [pid=27800][err] DEBUG: Juggler pipe initialized
  - [pid=27800][err] DEBUG: Dispatcher created
  - [pid=27800][err] DEBUG: BrowserHandler created
  - [pid=27800][err] DEBUG: BrowserHandler set as root session handler
  - [pid=27800][out]
  - [pid=27800][out] Juggler listening to the pipe
  - [pid=27800][out] console.error: "Warning: unrecognized command line flag" "-foreground"
  - [pid=27800][out] console.error: SearchService: "#init: failure initializing search:" (new TypeError("defaultsConfig is undefined", "resource://gre/modules/SearchEngineSelector.sys.mjs", 752))
  5 × [pid=27800][err] JavaScript error: resource://gre/modules/SearchEngineSelector.sys.mjs, line 752: TypeError: defaultsConfig is undefined
  - [pid=27800][err] JavaScript error: resource://gre/modules/SearchService.sys.mjs, line 1290: Error: SearchService failed while it was initializing.
  - [pid=27800][err] JavaScript error: resource://activity-stream/lib/TopSitesFeed.sys.mjs, line 144: NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS: [JavaScript Error: "SearchService failed while it was initializing." {file: "resource://gre/modules/SearchService.sys.mjs" line: 1290}]'[JavaScript Error: "SearchService failed while it was initializing." {file: "resource://gre/modules/SearchService.sys.mjs" line: 1290}]' when calling method: [nsISearchService::defaultEngine]
  - [pid=27800][out] console.error: "Could not parse ASRouter preference. Try resetting browser.newtabpage.activity-stream.asrouter.providers.snippets in about:config."
  - [pid=27800][out] console.error: SearchSettings: "_write: Could not write to settings file:" (new Error("cannot write without any engine.", "resource://gre/modules/SearchSettings.sys.mjs", 280))
  - [pid=27800][err] JavaScript error: chrome://juggler/content/Helper.js, line 82: NS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIWebProgress.removeProgressListener]
  - [pid=27800][out] console.error: WebExtensions:
  - [pid=27800][out]   Message: TypeError: defaultsConfig is undefined
  - [pid=27800][out]   Stack:
  - [pid=27800][out]     #defaultEngines@resource://gre/modules/SearchEngineSelector.sys.mjs:752:22
  - [pid=27800][out] fetchEngineConfiguration@resource://gre/modules/SearchEngineSelector.sys.mjs:375:65
  - [pid=27800][out]
  - [pid=27800][err] DEBUG: Installed 1 addon(s)


2025-06-28 19:41:49,568 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:41:51,154 - INFO - Page loaded for login check.
2025-06-28 19:42:21,755 - ERROR - An error occurred in suno_login_microsoft: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"

2025-06-28 19:42:21,756 - ERROR - Network issue detected during Suno Microsoft login.
2025-06-28 19:42:21,760 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 197, in suno_login_microsoft
    await page.goto("https://suno.com/create", wait_until="networkidle")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 8991, in goto
    await self._impl_obj.goto(
        url=url, timeout=timeout, waitUntil=wait_until, referer=referer
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_page.py", line 552, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 145, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://suno.com/create", waiting until "networkidle"


2025-06-28 19:43:06,440 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:43:08,136 - INFO - Page loaded for login check.
2025-06-28 19:43:14,787 - INFO - Already logged in. Redirected to: https://suno.com/create?wid=default
2025-06-28 19:43:15,402 - INFO - Already logged in detected.
2025-06-28 19:43:15,403 - INFO - Confirmed logged-in state on suno.com.
2025-06-28 19:47:30,529 - INFO - Navigating to accounts.google.com to determine login state...
2025-06-28 19:48:01,019 - ERROR - A major error occurred in login_google: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://accounts.google.com/", waiting until "networkidle"

2025-06-28 19:48:01,024 - ERROR - Traceback (most recent call last):
  File "c:\projects\suno-automation\backend\lib\login.py", line 124, in login_google
    await page.goto("https://accounts.google.com/", wait_until="networkidle")
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\async_api\_generated.py", line 8991, in goto
    await self._impl_obj.goto(
        url=url, timeout=timeout, waitUntil=wait_until, referer=referer
    )
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_page.py", line 552, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 145, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\projects\suno-automation\backend\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 528, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://accounts.google.com/", waiting until "networkidle"


2025-06-28 19:48:10,260 - INFO - Navigating to Suno to log in using Microsoft...
2025-06-28 19:48:12,024 - INFO - Page loaded for login check.
2025-06-28 19:48:18,801 - INFO - Already logged in. Redirected to: https://suno.com/create?wid=default
2025-06-28 19:48:19,270 - INFO - Already logged in detected.
2025-06-28 19:48:19,271 - INFO - Confirmed logged-in state on suno.com.
